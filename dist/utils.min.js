var JU;JU=JU||{},"undefined"!=typeof module&&(module.exports=JU),JU.find=function(t,e){var r,n,i;if(!(t instanceof Array))return t;for(n=0,i=t.length;i>n;n++)if(r=t[n],e(r))return r;return null},JU.remove=function(t,e){var r,n,i,u,o,a,s,h;if(!(t instanceof Array))return t;for(h=[],n=i=0,o=t.length;o>i;n=++i)r=t[n],e(r)&&h.push(n);for(s=h.reverse(),u=0,a=s.length;a>u;u++)n=s[u],t.splice(n,1);return t},JU.query=function(t,e){var r,n,i,u,o,a;if(o=[],t instanceof Array){for(n=0,u=t.length;u>n;n++)r=t[n],e(r)&&o.push(r);return o}if(t instanceof Object)for(i in t)a=t[i],e(i,a)&&o.push(i);return o},JU.queue=function(t,e){var r;return(r=function(){return t.length>0?t.shift().apply(e||{},[r].concat(Array.prototype.slice.call(arguments,0))):void 0})()};var bind=function(t,e){return function(){return t.apply(e,arguments)}};JU.Set=function(){function t(t,e,r,n){this.getId=null!=t?t:null,null==e&&(e=null),this.addCb=null!=r?r:null,this.removeCb=null!=n?n:null,this["in"]=bind(this["in"],this),this.remove=bind(this.remove,this),this.add=bind(this.add,this),this.values=[],this.data=[],e&&this.addArr(e)}return t.prototype.add=function(t){var e,r,n,i,u,o;for(e=JU.Set.getArrS(t,this.getId),n=!1,r=i=0,u=e.length;u>i;r=++i)o=e[r],this.values[r]?(n||this.values[r]===(this.values[r]|o)||(n=!0),this.values[r]=this.values[r]|o):(this.values[r]=o,o>0&&(n=!0));return!n||t instanceof JU.Set?void 0:(this.addCb&&this.addCb(t),this.data.push(t))},t.prototype.addArr=function(t){var e,r,n,i;for(i=[],r=0,n=t.length;n>r;r++)e=t[r],i.push(this.add(e));return i},t.prototype.remove=function(t){var e,r,n,i,u,o;for(e=JU.Set.getArrS(t,this.getId),n=!1,r=i=0,u=e.length;u>i;r=++i)o=e[r],this.values[r]&&this.values[r]&o&&(!n&&this.values[r]!==this.values[r]^o&&(n=!0),this.values[r]=this.values[r]^o);return!n||t instanceof JU.Set?void 0:(this.removeCb&&this.removeCb(t),JU.remove(this.data,function(e){return function(r){var n;return n=e.getId?e.getId(r)===e.getId(t):r===t}}(this)))},t.prototype.removeArr=function(t){var e,r,n,i;for(i=[],r=0,n=t.length;n>r;r++)e=t[r],i.push(this.remove(e));return i},t.prototype["in"]=function(t){var e,r,n,i,u,o;for(e=JU.Set.getArrS(t,this.getId),r=n=0,i=e.length;i>n;r=++n)if(u=e[r],u&&(o=u&this.values[r],o!==u))return!1;return!0},t.prototype.inOne=function(t){var e,r,n,i,u,o;for(e=JU.Set.getArrS(t,this.getId),r=n=0,i=e.length;i>n;r=++n)if(u=e[r],u&&(o=u&this.values[r]))return!0;return!1},t.prototype.union=function(t){var e,r,n,i,u,o,a,s;if(o=new JU.Set(this.getId),t instanceof JU.Set)o.addArr(this.data),o.addArr(t.data);else{for(e=JU.Set.getArr(t),s=[],u=this.values,r=n=0,i=u.length;i>n;r=++n)a=u[r],e[r]&&(s[r]=e[r]|a);o.values=s}return o},t.prototype.difference=function(t){var e,r,n,i,u,o,a;for(e=JU.Set.getArr(t),a=[],u=this.values,r=n=0,i=u.length;i>n;r=++n)o=u[r],e[r]?o&e[r]&&(a[r]=o^e[r],a[r]=a[r]&o):a[r]=o;return this.copy(a)},t.prototype.intersection=function(t){var e,r,n,i,u,o,a;for(e=JU.Set.getArr(t),a=[],u=this.values,r=n=0,i=u.length;i>n;r=++n)o=u[r],e[r]&&(a[r]=e[r]&o);return this.copy(a)},t.prototype.copy=function(t){var e,r,n,i,u,o;for(u=new JU.Set(this.getId),o=new JU.Set(this.getId),o.values=t,i=this.data,r=0,n=i.length;n>r;r++)e=i[r],o["in"](e)&&u.add(e);return u},t.prototype.equal=function(t){var e,r,n,i,u,o;for(e=JU.Set.getArr(t),u=this.values,r=n=0,i=u.length;i>n;r=++n)if(o=u[r],o&&e[r]){if(e[r]!==o)return!1}else if(o||e[r])return!1;return!0},t.prototype.clean=function(){return this.values.splice(0,this.values.length),this.data.splice(0,this.data.length)},t.create=function(t,e){var r,n,i,u,o,a,s,h,f;if(r=[],e)if(t instanceof Array)for(i=0,o=t.length;o>i;i++)n=t[i],r.push(e(n));else r=[e(t)];else r=t instanceof Array?t:[t];for(s=[],u=0,a=r.length;a>u;u++){if(n=r[u],!(n>=0))throw new Error("error: "+n);h=Math.floor(n/32),f=1<<n%32,s[h]?s[h]=s[h]|f:s[h]=f}return s},t.getArr=function(t){var e;return e=t instanceof JU.Set?t.values:t},t.getArrS=function(t,e){var r;return r=t instanceof JU.Set?t.values:JU.Set.create(t,e)},t}(),JU.random=function(t,e){var r;return null==e&&(e=0),r=t-e,e+Math.round(Math.random()*r)};var find,key,map,toArray,update;key="ABCDEFGHIJKMPSTUWXYZ",map={L:"I",V:"U",Q:"D",R:"P",O:"D",N:"M"},toArray=function(t,e){return e.push(t%20),t=parseInt(t/20),t>20?toArray(t,e):t>0?e.push(t):void 0},find=function(t){var e;return e=key.indexOf(t),0>e&&(e=0),e},JU.int2ic=function(t,e){var r,n,i,u,o,a,s,h,f;if(null==e&&(e=5),r=[],toArray(t,r),r.unshift(r.length),r.length<e)for(n=i=a=r.length,s=e;s>=a?s>i:i>s;n=s>=a?++i:--i)r.push(JU.random(19));for(f=[],h=r.reverse(),u=0,o=h.length;o>u;u++)n=h[u],f.push(key[n]);return f.join("")},update=function(t){var e,r,n,i,u;for(u=[],i=t.toUpperCase(),r=0,n=i.length;n>r;r++)e=i[r],e in map?u.push(map[e]):u.push(e);return u.join("")},JU.icCode=function(t){var e,r;return t=update(t),e=t.length-1,r=find(t[e]),t.slice(0,e-r)},JU.ic2int=function(t){var e,r,n,i,u,o,a,s;for(t=update(t),n=t.length-1,u=find(t[n]),i=0,s=0,e=r=o=n-1,a=n-u;a>=o?a>=r:r>=a;e=a>=o?++r:--r)s+=Math.pow(20,i)*find(t[e]),i++;return s},JU.uid=function(){var t;return t=(new Date).getTime()-1448785120450,JU.int2ic(JU.random(99999,1e4))+"-"+JU.int2ic(t)};