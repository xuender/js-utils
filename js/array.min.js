// js-utils 2013-12-11
var JU;JU=JU||{},JU.getId=function(a){return null==a&&(a="ID"),void 0===window[a]&&(window[a]=1),window[a]++},JU.findArray=function(a,b,c){var d,e,f,g,h,i,j;if(Array.isArray(c)){for(f=[],g=0,i=c.length;i>g;g++)e=c[g],f.push(JU.findArray(a,b,e));return f}for(h=0,j=a.length;j>h;h++)if(d=a[h],d[b]===c)return d;return null},JU.updateArray=function(a,b,c){var d,e;for(d in a)e=a[d],e===b&&(a[d]=c);return a},JU.removeArray=function(a,b){var c,d,e;e=[];for(c in a)d=a[c],d===b&&e.push(a.splice(c,1));return e},JU.sortOn=function(a,b){var c;return"-"===b[0]&&(c=!0,b=b.slice(1)),a.sort(function(a,c){return a[b]<=c[b]?-1:1}),c?a.reverse():void 0},JU.groupBy=function(a,b){var c,d,e,f,g,h;for(f=[],JU.sortOn(a,b),d="_INVALID_GROUP_VALUE_",g=0,h=a.length;h>g;g++)e=a[g],e[b]!==d&&(c={label:e[b],items:[]},d=c.label,f.push(c)),c.items.push(e);return f};