// js-utils 2013-12-11
var JU;JU=JU||{},JU.lsGet=function(a,b){var c;return null==b&&(b=!1),c=localStorage.getItem(a),c?JSON.parse(c):b},JU.lsSet=function(a,b){return localStorage.setItem(a,JSON.stringify(b))};var JU;JU=JU||{},JU.syncFetch=function(a,b){var c;c=new XMLHttpRequest,c.open("GET",chrome.extension.getURL(a),!1),c.onreadystatechange=function(){return 4===this.readyState&&this.responseText?b(this.responseText):void 0};try{return c.send()}catch(d){}},JU.I18n=function(){function a(a){var b,c=this;this.locale=a,b="/_locales/"+this.locale+"/messages.json",JU.syncFetch(b,function(a){return c.l10nData=JSON.parse(a)})}return a.prototype.getMessage=function(a,b){var c;return null==b&&(b=""),this.l10nData&&a in this.l10nData&&(c=this.l10nData[a],c.message)?c.message.replace(/\$\$/g,"$"):b},a}();